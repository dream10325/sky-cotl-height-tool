<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>光遇身高查看工具</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <div class="header">
            <div class="header-buttons-left">
                <button id="lang-switcher-header" class="icon-button" aria-label="Toggle language">
                    <svg id="globe-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                    </svg>
                </button>
                <div id="lang-menu-header" class="lang-menu" style="display: none;">
                    <button type="button" class="lang-option" data-lang="en">English</button>
                    <button type="button" class="lang-option active" data-lang="zh-Hant">繁體中文</button>
                    <button type="button" class="lang-option" data-lang="ja">日本語</button>
                </div>
            </div>
            <h1 data-lang-key="title">...</h1>
            <div class="header-buttons">
                <button id="theme-switcher" class="icon-button" aria-label="Toggle theme">
                    <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <svg id="theme-icon-dark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" stroke-width="2" style="display:none;">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
            </div>
        </div>

        <details>
            <summary data-lang-key="toggle_instructions">...</summary>
            <div class="instructions">
                <p data-lang-key="inst_1"></p>
                <p data-lang-key="inst_2"></p>
                <p data-lang-key="inst_3"></p>
                <p data-lang-key="inst_4"></p>
                <p data-lang-key="inst_5"></p>

            </div>
        </details>

        <div class="measurement-notice">
            <h4 data-lang-key="measurement_notice_title">...</h4>
            <p data-lang-key="measurement_notice_body">...</p>
        </div>
        <label for="b64-input" data-lang-key="input_label">...</label>
        <textarea id="b64-input" data-lang-key="placeholder"></textarea>

        <div id="qr-upload-area" class="qr-upload-area">
            <p data-lang-key="upload_instruction">...</p>
            <button id="qr-upload-btn" class="secondary-btn" data-lang-key="upload_btn">...</button>
            <input type="file" id="qr-file-input" accept="image/*" style="display: none;">
        </div>
        <canvas id="qr-canvas" style="display: none;"></canvas>

        <button id="calculate-btn" data-lang-key="calculate_btn">...</button>

        <div class="results">
            <div class="result-item important">
                <span class="label" data-lang-key="res_current">...</span>
                <span class="value" id="res-current">...</span>
            </div>
            <div class="result-item">
                <span class="label" data-lang-key="res_tallest">...</span>
                <span class="value" id="res-tallest">...</span>
            </div>
            <div class="result-item">
                <span class="label" data-lang-key="res_shortest">...</span>
                <span class="value" id="res-shortest">...</span>
            </div>

            <div class="result-item json-output">
                <div class="json-header">
                    <span class="label" data-lang-key="res_details">...</span>
                </div>
                <div class="json-wrapper">
                    <pre class="value json-pre" id="res-json" aria-live="polite" tabindex="0"></pre>
                </div>
            </div>

            <div class="result-actions" id="result-actions" style="display: none;">
                <button id="copy-btn" data-lang-key="copy_btn">...</button>
                <details class="customization-details">
                    <summary data-lang-key="customize_image">...</summary>
                    <div class="customization-options">
                        <div class="preview-container">
                            <canvas id="preview-canvas" width="500" height="250"></canvas>
                        </div>
                        <div class="option-group">
                            <label for="player-name" data-lang-key="player_name">...</label>
                            <input type="text" id="player-name" data-lang-key="player_name_placeholder">
                        </div>
                        <div class="option-group">
                            <label data-lang-key="bg_style_upload">...</label>
                            <input type="file" id="upload-bg" accept="image/*">
                            <div id="uploaded-image-preview" class="selector-group image-selector"></div>
                        </div>
                        <div class="option-group">
                            <label data-lang-key="bg_style_image">...</label>
                            <div id="bg-selector" class="selector-group image-selector"></div>
                        </div>
                        <div class="option-group">
                            <label data-lang-key="bg_style_gradient">...</label>
                            <div id="gradient-selector" class="selector-group"></div>
                        </div>
                        <div class="option-group">
                            <label data-lang-key="text_color">...</label>
                            <div id="text-color-selector" class="selector-group">
                                <button class="selectable-option text-color-option active" data-color="white"
                                    data-lang-key="text_white">...</button>
                                <button class="selectable-option text-color-option" data-color="black"
                                    data-lang-key="text_black">...</button>
                            </div>
                        </div>
                        <div class="option-group">
                            <label data-lang-key="text_align">...</label>
                            <div id="text-align-selector" class="selector-group">
                                <button class="selectable-option text-align-option active" data-align="center"
                                    data-lang-key="align_center">...</button>
                                <button class="selectable-option text-align-option" data-align="left"
                                    data-lang-key="align_left">...</button>
                                <button class="selectable-option text-align-option" data-align="right"
                                    data-lang-key="align_right">...</button>
                            </div>
                        </div>
                        <div class="option-group toggle-group">
                            <label for="show-range-toggle" data-lang-key="show_range">...</label>
                            <label class="switch">
                                <input type="checkbox" id="show-range-toggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <button id="image-btn" data-lang-key="image_btn">...</button>
                    </div>
                </details>
            </div>
        </div>
        <div id="status"></div>

        <div id="history" class="history-container" style="display: none;">
            <div class="history-header">
                <h2 data-lang-key="history_title">...</h2>
                <button id="clear-history-btn" data-lang-key="clear_history_btn">...</button>
            </div>
            <ul id="history-list"></ul>
        </div>
    </div>

    <div class="container simulator-container" id="simulator-container" style="display: none;">
        <h2 data-lang-key="sim_title">...</h2>
        <p class="instructions" data-lang-key="sim_desc">...</p>
        <p class="sim-disclaimer" data-lang-key="sim_disclaimer_text">...</p>
        <div class="sim-controls">
            <button id="drink-potion-btn" data-lang-key="sim_drink_btn">...</button>
            <button id="reset-sim-btn" class="secondary-btn" data-lang-key="sim_reset_btn">...</button>
        </div>
        <div class="sim-metaphysics">
            <p data-lang-key="sim_meta_title">...</p>
            <label class="meta-option"><input type="checkbox" id="meta-tall-friend"> <span
                    data-lang-key="sim_meta_tall">...</span></label>
            <label class="meta-option"><input type="checkbox" id="meta-short-friend"> <span
                    data-lang-key="sim_meta_short">...</span></label>
        </div>
        <div class="sim-results">
            <div class="result-item">
                <span class="label" data-lang-key="sim_result_label">...</span>
                <div>
                    <span class="value" id="potion-result">...</span>
                    <span id="potion-extreme-notice" class="extreme-notice"></span>
                </div>
            </div>
            <div class="result-item">
                <span class="label" data-lang-key="sim_count_label">...</span>
                <span class="value" id="potion-count">0</span>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-links">
            <a href="https://github.com/dream10325/sky-cotl-height-tool" target="_blank" rel="noopener noreferrer"
                data-lang-key="github_link">
                ...
            </a>
            <span class="footer-separator">|</span>
            <a href="https://discord.gg/WfevubxfR7" target="_blank" rel="noopener noreferrer"
                data-lang-key="report_issue_link">
                ...
            </a>
            <span class="footer-separator">|</span>
            <div id="lang-switcher" class="footer-lang-switcher">
                <button type="button" class="lang-option" data-lang="en">English</button>
                <button type="button" class="lang-option active" data-lang="zh-Hant">繁體中文</button>
                <button type="button" class="lang-option" data-lang="ja">日本語</button>
            </div>
        </div>
        <div class="footer-disclaimers">
            <p data-lang-key="disclaimer_free">...</p>
            <p data-lang-key="disclaimer_privacy">...</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/qr-scanner@1.4.2/qr-scanner.umd.min.js?v=1.4.2"></script>
    <script src="translations.js"></script>
    <script src="script.js"></script>
</body>

</html>